<div class="row">
  <div class="col-md-6">
    <nb-card>
      <nb-card-header>
        {{ 'EXPERIMENT' | translate }}
        <button
          nbButton
          ghost
          class="setting"
          nbTooltip="{{ 'TOOLTIP.DELETE-EXPERIMENT' | translate }}"
          (click)="clickDeleteExperiment()"
        >
          <nb-icon icon="trash-alt"></nb-icon>
        </button>
        <button nbButton ghost class="setting" (click)="editExperiment()" nbTooltip="{{ 'TOOLTIP.EDIT' | translate }}">
          <nb-icon icon="pen"></nb-icon>
        </button>
        <button
          nbButton
          ghost
          class="setting"
          nbTooltip="{{ 'TOOLTIP.EXPORT-EXPERIMENT' | translate }}"
          (click)="exportExperiment()"
        >
          <nb-icon icon="table"></nb-icon>
        </button>
      </nb-card-header>
      <nb-card-body>
        <input formControlName="name" fullWidth nbInput disabled value="{{ this.name }}" />
        <textarea *ngIf="this.description !== ''" formControlName="description" rows="3" nbInput fullWidth disabled>{{
          this.description
        }}</textarea>
      </nb-card-body>
    </nb-card>
    <nb-card>
      <nb-card-header>
        {{ 'TESTS' | translate }}
        <button nbButton ghost class="setting" (click)="newTest()" nbTooltip="{{ 'TOOLTIP.ADD-TEST' | translate }}">
          <nb-icon icon="plus"></nb-icon>
        </button>
      </nb-card-header>
      <nb-card-body>
        <nb-list *ngIf="current != undefined">
          <nb-list-item *ngFor="let test of current.tests" (click)="editTest(test)">
            <span><nb-icon icon="flask"></nb-icon> {{ test.name }}</span>
          </nb-list-item>
        </nb-list>
      </nb-card-body>
    </nb-card>
  </div>
  <div class="col-md-6">
    <nb-card>
      <nb-card-header>
        {{ 'GROUPS' | translate }}
        <button nbButton ghost class="setting" nbTooltip="{{ 'TOOLTIP.EDIT-GROUPS' | translate }}">
          <nb-icon icon="pen"></nb-icon>
        </button>
        <button nbButton ghost class="setting" (click)="addGroup()" nbTooltip="{{ 'TOOLTIP.ADD-GROUP' | translate }}">
          <nb-icon icon="plus"></nb-icon>
        </button>
      </nb-card-header>
      <nb-card-body>
        <!--<nb-menu tag="subjects" [items]="subjects" autoCollapse="true"></nb-menu>-->
        <nb-accordion *ngIf="current != undefined">
          <nb-accordion-item *ngFor="let group of current.groups">
            <nb-accordion-item-header>
              <span class="group-title"><nb-icon icon="users"></nb-icon>{{ group.name }}</span>
            </nb-accordion-item-header>
            <nb-accordion-item-body>
              <nb-list>
                <nb-list-item
                  class="group-subject"
                  *ngFor="let subject of group.subjects"
                  (click)="showSubject(subject)"
                >
                  <span><nb-icon icon="user-circle"></nb-icon> {{ subject.name }}</span>
                </nb-list-item>
              </nb-list>
            </nb-accordion-item-body>
          </nb-accordion-item>
        </nb-accordion>
      </nb-card-body>
    </nb-card>
  </div>
</div>
