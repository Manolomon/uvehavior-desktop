<div class="row">
  <div class="col-lg-8 col-md-12 video-player">
    <video-player
      #video
      [keyboard]="false"
      [src]="src"
      [analysisStartTime]="analysisStartTime"
      [analysisTime]="analysisTime"
      [analysisProgress]="analysisStartTime != undefined ? (analysisTime * 100) / duration : 0"
      (startAnalysis)="startAnalysis()"
      (stop)="finishAnalysis()"
    ></video-player>
  </div>
  <div class="col-lg-4">
    <nb-card>
      <nb-card-header>
        {{ 'ANALYSIS' | translate }}
      </nb-card-header>
      <nb-card-body>
        <div class="analysis-info">
          <b>{{ 'TEST' | translate }}:</b> {{ test ? test.name : '' }}
          <br />
          <b>{{ 'TEST-DURATION' | translate }}:</b> {{ test ? test.duration : '' }}
          <br />
          <b>{{ 'GROUP' | translate }}:</b> {{ groupName ? groupName : '' }}
          <br />
          <b>{{ 'SUBJECT' | translate }}:</b> {{ subject ? subject.name : '' }}
          <br />
          <b>{{ 'VIDEO' | translate }}:</b> {{ videoName ? videoName : '' }}
        </div>
      </nb-card-body>
    </nb-card>
    <nb-card>
      <nb-card-header>{{ 'LOG' | translate }}</nb-card-header>
      <nb-card-body>
        <table style="width: 100%;">
          <tr>
            <th>Key</th>
            <th>Name</th>
            <th>Latency</th>
            <th>Frequency</th>
            <th>Time</th>
          </tr>
          <tr *ngFor="let item of behaviorsEvaluation">
            <td>
              <span *ngIf="this.current == item">
                <div class="md-chip">
                  {{ item.behavior.associatedKey }}
                </div>
              </span>
              <span *ngIf="this.current != item">
                {{ item.behavior.associatedKey }}
              </span>
            </td>
            <td>
              <span>{{ item.behavior.name }}</span>
            </td>
            <td>
              <span>{{ item.latency | number: '1.2-2' }}</span>
            </td>
            <td>
              <span>{{ item.frequency | number: '1.0' }}</span>
            </td>
            <td>
              <span>{{ item.totalTime | number: '1.2-2' }}</span>
            </td>
          </tr>
        </table>
      </nb-card-body>
    </nb-card>
  </div>
</div>
